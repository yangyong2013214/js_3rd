<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // function createComparisonFunction(propertyName) {
    //
    //     return function(object1,object2) {
    //         var value1 = object1[propertyName];
    //         var value2 = object2[propertyName];
    //
    //         if(value1 < value2) {
    //             return -1;
    //         }
    //         else if(value1 > value2) {
    //             return 1;
    //         }else{
    //             return 0;
    //         }
    //     };
    // }
    //
    // var compare = createComparisonFunction("name");
    // var result = compare({ name: "Nicholas" }, { name: "Greg" });


    // function createFunctionsA() {
    //     var result = [];
    //     for (var i = 0; i < 10; i++) {
    //         result[i] = function () {
    //             return i;
    //         }
    //     }
    //     return result;
    // }
    // //每个函数都返回10.
    // var resultA = createFunctionsA();
    // console.log(resultA);
    // console.log(resultA[2]());
    //
    //
    // function createFunctionsB() {
    //     var result = [];
    //     for (var i = 0; i < 10; i++) {
    //         result[i] = function (num) {
    //             return function () {
    //                 return num;
    //             }
    //         }(i);
    //     }
    //     return result;
    // }
    // var resultB = createFunctionsB();
    // console.log(resultB);
    // console.log(resultB[2]());


    // var name = 'The Window';
    // var object = {
    //     name: 'My Object',
    //     getNameFunc:function() {
    //         return function() {
    //             return this.name;
    //         };
    //     }
    // };
    //
    // console.log(object.getNameFunc()()); //The Window


    // var name = 'The Window';
    // var object = {
    //     name: 'My Object',
    //     getNameFunc: function () {
    //         var that = this;
    //         return function () {
    //             return that.name;
    //         };
    //     }
    // };
    //
    // console.log(object.getNameFunc()()); //My Object


    //闭包，导致element所占的内存永远不会被回收
    // function assignHandler() {
    //     var element = document.getElementById('someElement');
    //     element.onclick = function() {
    //         alert(element.id);
    //     };
    // }

    //解决闭包中，内存不会被回收的情况
    function assignHandler() {
        var element = document.getElementById('someElement');
        var id = element.id;
        element.onclick = function () {
            alert(id);
        };
        element = null;
    }

    
</script>
</body>
</html>